const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CW4n2V-8.js","assets/index-BJ4h_ASq.js","assets/index-DWhWrDJU.css"])))=>i.map(i=>d[i]);
import{d as w,e as K,h as B,c as u,b as t,r as d,a as n,F as b,t as c,f as j,w as r,y as W,g as E,j as m,k as Y,i as G,o as i,_ as P}from"./index-BJ4h_ASq.js";import{_ as J,r as _,s as Q}from"./_plugin-vue_export-helper-DZ9-2fQ5.js";const X={class:"profile-container"},Z={key:0,class:"loading-container"},ee={class:"profile-header"},ne={class:"profile-avatar"},te={class:"rating"},se={class:"profile-form"},oe={class:"tags-container"},ae={class:"form-actions"},le={class:"cell-multiline"},ie={class:"tags-list"},ue={class:"profile-actions"},re={class:"social-accounts-section"},de={class:"platform-section"},ce={key:0,class:"empty-state"},ve={key:1,class:"platform-list"},pe={class:"platform-info"},me={class:"platform-icon"},_e={class:"platform-details"},ge={class:"platform-username"},fe={key:0,class:"platform-section"},he={class:"platform-list"},ye={class:"platform-info"},we={class:"platform-icon"},be={class:"platform-details"},ke={class:"logout-container"},Ce={__name:"index",setup(Ve){const l=w(null),A=w(!0),o=w({name:"",description:"",address:"",phone:"",businessHours:"",tags:[]}),C=w(!1),V=w(!1),v=w([]);K(()=>{setTimeout(()=>{l.value=_,v.value=Q,o.value={name:_.name,description:_.description,address:_.address,phone:_.phone,businessHours:_.businessHours,tags:[..._.tags]},A.value=!1},800)});const x=B(()=>v.value.filter(a=>a.connected)),H=B(()=>v.value.filter(a=>!a.connected)),I=()=>{C.value=!0},N=()=>{o.value={name:l.value.name,description:l.value.description,address:l.value.address,phone:l.value.phone,businessHours:l.value.businessHours,tags:[...l.value.tags]},C.value=!1},O=()=>{V.value=!0,setTimeout(()=>{l.value={...l.value,...o.value},V.value=!1,C.value=!1,T("Profile updated successfully!")},1500)},T=a=>{P(async()=>{const{showToast:e}=await import("./index-CW4n2V-8.js");return{showToast:e}},__vite__mapDeps([0,1,2])).then(({showToast:e})=>{e({message:a,position:"bottom",duration:2e3})})},S=()=>{o.value.newTag&&(o.value.tags.includes(o.value.newTag)||o.value.tags.push(o.value.newTag),o.value.newTag="")},R=a=>{o.value.tags.splice(a,1)},U=a=>{P(async()=>{const{showDialog:e}=await import("./index-CW4n2V-8.js");return{showDialog:e}},__vite__mapDeps([0,1,2])).then(({showDialog:e})=>{e({title:"Connect Account",message:`Would you like to connect your ${a.name} account?`,showCancelButton:!0}).then(()=>{const p=v.value.findIndex(k=>k.id===a.id);p!==-1&&(v.value[p].connected=!0,v.value[p].username=`@restaurant_${a.name.toLowerCase()}`,T(`${a.name} connected successfully!`))}).catch(()=>{})})},q=a=>{P(async()=>{const{showDialog:e}=await import("./index-CW4n2V-8.js");return{showDialog:e}},__vite__mapDeps([0,1,2])).then(({showDialog:e})=>{e({title:"Disconnect Account",message:`Are you sure you want to disconnect your ${a.name} account?`,showCancelButton:!0}).then(()=>{const p=v.value.findIndex(k=>k.id===a.id);p!==-1&&(v.value[p].connected=!1,v.value[p].username="",T(`${a.name} disconnected successfully!`))}).catch(()=>{})})},F=()=>{P(async()=>{const{showDialog:a}=await import("./index-CW4n2V-8.js");return{showDialog:a}},__vite__mapDeps([0,1,2])).then(({showDialog:a})=>{a({title:"Log Out",message:"Are you sure you want to log out?",showCancelButton:!0}).then(()=>{T("You have been logged out")}).catch(()=>{})})};return(a,e)=>{const p=d("van-nav-bar"),k=d("van-loading"),D=d("van-image"),L=d("van-icon"),g=d("van-field"),$=d("van-cell-group"),f=d("van-button"),M=d("van-form"),h=d("van-cell"),z=d("van-empty");return i(),u("div",X,[t(p,{title:"My Profile","left-arrow":"",fixed:"",placeholder:"",onClickLeft:e[0]||(e[0]=s=>a.$router.go(-1))}),A.value?(i(),u("div",Z,[t(k,{type:"spinner",color:"var(--primary-color)",size:"24px"}),e[7]||(e[7]=n("p",null,"Loading...",-1))])):(i(),u(b,{key:1},[n("div",ee,[n("div",ne,[t(D,{src:l.value.logo,width:"80",height:"80",round:""},null,8,["src"])]),n("h2",null,c(l.value.name),1),n("p",te,[t(L,{name:"star",color:"#FFD700"}),n("span",null,c(l.value.rating)+" ("+c(l.value.reviewCount)+" reviews)",1)])]),n("div",se,[C.value?(i(),j(M,{key:0,onSubmit:Y(O,["prevent"])},{default:r(()=>[t($,{inset:""},{default:r(()=>[t(g,{modelValue:o.value.name,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.name=s),label:"Restaurant Name",placeholder:"Enter your restaurant name",required:""},null,8,["modelValue"]),t(g,{modelValue:o.value.description,"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.description=s),rows:"3",autosize:"",type:"textarea",label:"Description",placeholder:"Describe your restaurant features",required:""},null,8,["modelValue"]),t(g,{modelValue:o.value.address,"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.address=s),label:"Address",placeholder:"Enter your address",required:""},null,8,["modelValue"]),t(g,{modelValue:o.value.phone,"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.phone=s),label:"Phone",placeholder:"Enter your phone number",required:""},null,8,["modelValue"]),t(g,{modelValue:o.value.businessHours,"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.businessHours=s),label:"Business Hours",placeholder:"e.g. Mon-Fri: 9:00-21:00",required:""},null,8,["modelValue"]),t(g,{modelValue:o.value.newTag,"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.newTag=s),label:"Tags",placeholder:"Add a tag and press Enter",onKeyup:W(S,["enter"])},null,8,["modelValue"]),n("div",oe,[(i(!0),u(b,null,E(o.value.tags,(s,y)=>(i(),u("div",{key:y,class:"tag-item"},[m(c(s)+" ",1),t(L,{name:"cross",onClick:Te=>R(y)},null,8,["onClick"])]))),128))])]),_:1}),n("div",ae,[t(f,{round:"",block:"",type:"primary","native-type":"submit",loading:V.value},{default:r(()=>[m(c(V.value?"Saving...":"Save Changes"),1)]),_:1},8,["loading"]),t(f,{round:"",block:"",plain:"",style:{"margin-top":"10px"},onClick:N},{default:r(()=>e[8]||(e[8]=[m(" Cancel ")])),_:1})])]),_:1})):(i(),u(b,{key:1},[t($,{inset:""},{default:r(()=>[t(h,{title:"Restaurant Name",value:l.value.name},null,8,["value"]),t(h,{title:"Description"},{value:r(()=>[n("div",le,c(l.value.description),1)]),_:1}),t(h,{title:"Address",value:l.value.address},null,8,["value"]),t(h,{title:"Phone",value:l.value.phone},null,8,["value"]),t(h,{title:"Business Hours",value:l.value.businessHours},null,8,["value"]),t(h,{title:"Tags"},{value:r(()=>[n("div",ie,[(i(!0),u(b,null,E(l.value.tags,(s,y)=>(i(),u("span",{key:y,class:"profile-tag"},c(s),1))),128))])]),_:1})]),_:1}),n("div",ue,[t(f,{type:"primary",plain:"",block:"",icon:"edit",onClick:I},{default:r(()=>e[9]||(e[9]=[m(" Edit Profile ")])),_:1})])],64))]),n("div",re,[e[16]||(e[16]=n("h2",{class:"section-title"},"Social Media Accounts",-1)),n("div",de,[e[12]||(e[12]=n("div",{class:"section-header"},[n("h3",null,"Connected Accounts")],-1)),x.value.length===0?(i(),u("div",ce,[t(z,{description:"No connected accounts"}),e[10]||(e[10]=n("p",null,"Connect your social media accounts to post content.",-1))])):(i(),u("div",ve,[(i(!0),u(b,null,E(x.value,s=>(i(),u("div",{key:s.id,class:"platform-card"},[n("div",pe,[n("div",me,[t(D,{src:s.icon,round:"",width:"40",height:"40"},null,8,["src"])]),n("div",_e,[n("h3",null,c(s.name),1),n("p",ge,c(s.username),1)])]),t(f,{size:"small",plain:"",onClick:y=>q(s)},{default:r(()=>e[11]||(e[11]=[m(" Disconnect ")])),_:2},1032,["onClick"])]))),128))]))]),H.value.length>0?(i(),u("div",fe,[e[15]||(e[15]=n("div",{class:"section-header"},[n("h3",null,"Available Platforms")],-1)),n("div",he,[(i(!0),u(b,null,E(H.value,s=>(i(),u("div",{key:s.id,class:"platform-card"},[n("div",ye,[n("div",we,[t(D,{src:s.icon,round:"",width:"40",height:"40"},null,8,["src"])]),n("div",be,[n("h3",null,c(s.name),1),e[13]||(e[13]=n("p",{class:"platform-connect"},"Connect to post content",-1))])]),t(f,{size:"small",type:"primary",plain:"",onClick:y=>U(s)},{default:r(()=>e[14]||(e[14]=[m(" Connect ")])),_:2},1032,["onClick"])]))),128))])])):G("",!0)]),n("div",ke,[t(f,{block:"",type:"danger",plain:"",icon:"close",onClick:F},{default:r(()=>e[17]||(e[17]=[m(" Log Out ")])),_:1})])],64))])}}},De=J(Ce,[["__scopeId","data-v-2986eb6c"]]);export{De as default};
