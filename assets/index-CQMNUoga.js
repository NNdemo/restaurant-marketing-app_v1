const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CW4n2V-8.js","assets/index-BJ4h_ASq.js","assets/index-DWhWrDJU.css"])))=>i.map(i=>d[i]);
import{d as m,e as G,h as V,c as i,b as n,r as l,a as t,F as g,i as T,w as r,j as u,f as A,g as w,k as O,t as _,o as a,_ as L}from"./index-BJ4h_ASq.js";import{_ as j,s as q}from"./_plugin-vue_export-helper-DZ9-2fQ5.js";const W={class:"social-container"},Y={key:0,class:"loading-container"},H={class:"notice-card"},J={class:"notice-content"},K={class:"platform-section"},Q={class:"section-header"},X={key:0,class:"empty-state"},Z={key:1,class:"platform-list"},oo={class:"platform-info"},to={class:"platform-icon"},eo={class:"platform-details"},no={class:"platform-username"},so={key:0,class:"platform-section"},ao={class:"platform-list"},lo={class:"platform-info"},io={class:"platform-icon"},ro={class:"platform-details"},uo={class:"post-form"},co={class:"popup-header"},po={class:"platform-selection"},mo={class:"selection-chips"},vo={class:"post-content"},_o={class:"post-image"},fo={class:"uploader-btn"},yo={class:"form-actions"},go={__name:"index",setup(ho){const h=m([]),k=m(!0),d=m({content:"",selectedPlatforms:[]}),v=m([]),f=m(!1),c=m(!1);G(()=>{setTimeout(()=>{h.value=q,k.value=!1},800)});const y=V(()=>h.value.filter(s=>s.connected)),b=V(()=>h.value.filter(s=>!s.connected)),N=s=>{L(async()=>{const{showToast:o}=await import("./index-CW4n2V-8.js");return{showToast:o}},__vite__mapDeps([0,1,2])).then(({showToast:o})=>{o({message:s,position:"bottom",duration:2e3})})},M=s=>{const o=new FileReader;o.readAsDataURL(s.file),o.onload=()=>{s.content=o.result,v.value=[s]}},z=()=>{if(d.value.content.trim()===""&&v.value.length===0){x("Please add some content or an image to your post");return}if(d.value.selectedPlatforms.length===0){x("Please select at least one platform");return}f.value=!0,setTimeout(()=>{f.value=!1,N("Post scheduled successfully!"),d.value={content:"",selectedPlatforms:[]},v.value=[],c.value=!1},1500)},x=s=>{L(async()=>{const{showToast:o}=await import("./index-CW4n2V-8.js");return{showToast:o}},__vite__mapDeps([0,1,2])).then(({showToast:o})=>{o({message:s,position:"bottom",type:"fail",duration:2e3})})};return(s,o)=>{const E=l("van-nav-bar"),S=l("van-loading"),P=l("van-icon"),p=l("van-button"),U=l("van-empty"),C=l("van-image"),D=l("van-checkbox"),$=l("van-checkbox-group"),B=l("van-field"),F=l("van-uploader"),I=l("van-form"),R=l("van-popup");return a(),i("div",W,[n(E,{title:"Social Media","left-arrow":"",fixed:"",placeholder:"",onClickLeft:o[0]||(o[0]=e=>s.$router.go(-1))}),k.value?(a(),i("div",Y,[n(S,{type:"spinner",color:"var(--primary-color)",size:"24px"}),o[8]||(o[8]=t("p",null,"Loading your social accounts...",-1))])):(a(),i(g,{key:1},[t("div",H,[n(P,{name:"info-o",class:"notice-icon"}),t("div",J,[o[10]||(o[10]=t("h3",null,"Social Media Account Management Moved to Profile",-1)),o[11]||(o[11]=t("p",null,"You can now manage all your social media account connections in the Profile page.",-1)),n(p,{type:"primary",size:"small",icon:"arrow",to:"/profile",class:"notice-button"},{default:r(()=>o[9]||(o[9]=[u(" Go to Profile ")])),_:1})])]),t("div",K,[t("div",Q,[o[13]||(o[13]=t("h2",null,"Connected Accounts",-1)),y.value.length>0?(a(),A(p,{key:0,size:"small",type:"primary",icon:"plus",round:"",onClick:o[1]||(o[1]=e=>c.value=!0)},{default:r(()=>o[12]||(o[12]=[u(" New Post ")])),_:1})):T("",!0)]),y.value.length===0?(a(),i("div",X,[n(U,{description:"No connected accounts"}),o[14]||(o[14]=t("p",null,"Connect your social media accounts to post content.",-1))])):(a(),i("div",Z,[(a(!0),i(g,null,w(y.value,e=>(a(),i("div",{key:e.id,class:"platform-card"},[t("div",oo,[t("div",to,[n(C,{src:e.icon,round:"",width:"40",height:"40"},null,8,["src"])]),t("div",eo,[t("h3",null,_(e.name),1),t("p",no,_(e.username),1)])]),n(p,{size:"small",plain:"",to:"/profile"},{default:r(()=>o[15]||(o[15]=[u(" Manage Account ")])),_:1})]))),128))]))]),b.value.length>0?(a(),i("div",so,[o[18]||(o[18]=t("div",{class:"section-header"},[t("h2",null,"Available Platforms")],-1)),t("div",ao,[(a(!0),i(g,null,w(b.value,e=>(a(),i("div",{key:e.id,class:"platform-card"},[t("div",lo,[t("div",io,[n(C,{src:e.icon,round:"",width:"40",height:"40"},null,8,["src"])]),t("div",ro,[t("h3",null,_(e.name),1),o[16]||(o[16]=t("p",{class:"platform-connect"},"Connect to post content",-1))])]),n(p,{size:"small",type:"primary",plain:"",to:"/profile"},{default:r(()=>o[17]||(o[17]=[u(" Go to Connect ")])),_:1})]))),128))])])):T("",!0)],64)),n(R,{show:c.value,"onUpdate:show":o[7]||(o[7]=e=>c.value=e),position:"bottom",round:"",closeable:"",class:"post-form-popup"},{default:r(()=>[t("div",uo,[t("div",co,[o[19]||(o[19]=t("h2",null,"Create New Post",-1)),n(P,{name:"cross",onClick:o[2]||(o[2]=e=>c.value=!1)})]),n(I,{onSubmit:O(z,["prevent"])},{default:r(()=>[t("div",po,[o[20]||(o[20]=t("h3",null,"Select Platforms",-1)),t("div",mo,[n($,{modelValue:d.value.selectedPlatforms,"onUpdate:modelValue":o[3]||(o[3]=e=>d.value.selectedPlatforms=e)},{default:r(()=>[(a(!0),i(g,null,w(y.value,e=>(a(),A(D,{key:e.id,name:e.id,shape:"square"},{default:r(()=>[u(_(e.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])]),t("div",vo,[n(B,{modelValue:d.value.content,"onUpdate:modelValue":o[4]||(o[4]=e=>d.value.content=e),rows:"4",autosize:"",type:"textarea",placeholder:"What would you like to share about your restaurant?"},null,8,["modelValue"])]),t("div",_o,[n(F,{"file-list":v.value,"onUpdate:fileList":o[5]||(o[5]=e=>v.value=e),"max-count":1,"after-read":M},{default:r(()=>[t("div",fo,[n(P,{name:"photograph"}),o[21]||(o[21]=t("span",null,"Add Photo",-1))])]),_:1},8,["file-list"])]),t("div",yo,[n(p,{round:"",block:"",type:"primary","native-type":"submit",loading:f.value},{default:r(()=>[u(_(f.value?"Posting...":"Post Now"),1)]),_:1},8,["loading"]),n(p,{round:"",block:"",plain:"",style:{"margin-top":"10px"},onClick:o[6]||(o[6]=e=>c.value=!1)},{default:r(()=>o[22]||(o[22]=[u(" Cancel ")])),_:1})])]),_:1})])]),_:1},8,["show"])])}}},ko=j(go,[["__scopeId","data-v-379d6c87"]]);export{ko as default};
