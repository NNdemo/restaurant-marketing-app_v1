const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CW4n2V-8.js","assets/index-BJ4h_ASq.js","assets/index-DWhWrDJU.css"])))=>i.map(i=>d[i]);
import{d,m as me,n as Q,p as O,e as fe,h as X,q as L,c as i,b as l,r as p,a as t,F as x,i as C,w as u,j as c,g as S,k as _e,t as r,_ as H,o as a,u as Z,f as he,s as ge,v as ye,x as be}from"./index-BJ4h_ASq.js";import{_ as Ce,c as ke}from"./_plugin-vue_export-helper-DZ9-2fQ5.js";const we={class:"coupons-container"},Ve={key:0,class:"loading-container"},xe={class:"coupons-header"},Pe={class:"coupons-section"},Te={key:0,class:"empty-state"},Ie={key:1,class:"coupon-list"},Ee={class:"coupon-info"},Ae={class:"coupon-platform"},De={class:"coupon-description"},Fe={class:"coupon-dates"},ze={class:"coupon-code"},Ue={class:"coupon-actions"},$e={key:0,class:"coupons-section"},Oe={class:"coupon-list"},Le={class:"coupon-info"},Se={class:"coupon-platform"},Me={class:"coupon-description"},Ne={class:"coupon-dates"},qe={class:"coupon-code"},Re={class:"coupon-status"},He={key:0,class:"status-tag"},We={key:1,class:"status-tag"},Be={class:"coupon-actions"},Ge={class:"coupon-form"},Ye={class:"popup-header"},je={style:{margin:"16px"}},Je={class:"popup-header"},Ke={class:"publish-options-content"},Qe={class:"option-section user-input-section"},Xe={class:"content-input-container"},Ze={class:"option-section"},eo={class:"style-options"},oo=["onClick"],to={class:"option-section"},lo={class:"option-section"},no={class:"option-section preview-section"},so={class:"preview-container"},ao={class:"preview-card"},io={class:"preview-header"},uo={class:"preview-style-tag"},ro={class:"preview-content"},po={key:0},vo={key:1},co={key:2},mo={key:3},fo={key:4},_o={key:0,class:"preview-hashtags"},ho={key:1,class:"preview-image"},go={class:"publish-actions"},yo={__name:"index",setup(bo){const m=d([]),W=d(!0),y=d(!1),k=d(!1),P=d(!1),T=d(!1),I=d(!1),v=d("professional"),w=d([]),h=d({optimizeText:!0,addHashtags:!0,generateImage:!1}),E=d(""),A=d(""),D=d(!1);me(v,n=>{A.value&&B()});const B=()=>{if(!E.value.trim()){g("Please enter some content to enhance");return}D.value=!0,setTimeout(()=>{const n=E.value.trim();let e="";v.value==="professional"?e=`We are pleased to introduce our exclusive offer: ${n}. This limited-time promotion provides exceptional value for our customers.`:v.value==="friendly"?e=`Hey there! ðŸ˜Š Check this out: ${n}! We thought you'd love this special deal we've put together!`:v.value==="promotional"?e=`ðŸ”¥ SPECIAL OFFER ALERT! ðŸ”¥ ${n.toUpperCase()}! LIMITED TIME ONLY - Act fast before this amazing deal expires!`:v.value==="formal"&&(e=`We wish to inform our esteemed clients about our latest offering: ${n}. We invite you to take advantage of this exclusive opportunity.`),A.value=e,D.value=!1},1500)},ee=[{label:"Professional",value:"professional",icon:"manager-o"},{label:"Friendly",value:"friendly",icon:"smile-o"},{label:"Promotional",value:"promotional",icon:"gift-o"},{label:"Formal",value:"formal",icon:"certificate"}],s=d({title:"",description:"",platform:"",validFrom:O(),validTo:Q(O(),30),code:"",discount:"",published:!1});fe(()=>{setTimeout(()=>{m.value=ke,W.value=!1,w.value=M.map(n=>n.value)},800)});const M=[{text:"Meituan",value:"Meituan"},{text:"Dianping",value:"Dianping"},{text:"Ele.me",value:"Ele.me"},{text:"All Platforms",value:"All Platforms"}],oe=[{values:M}],G=X(()=>m.value.filter(n=>L(n)&&n.published)),Y=X(()=>m.value.filter(n=>!L(n)||!n.published)),F=n=>ye(n),te=()=>{le()&&(T.value=!0,setTimeout(()=>{const n={...s.value,id:be()};m.value.push(n),ne(),T.value=!1,y.value=!1,z("Coupon created successfully!")},1500))},le=()=>s.value.title?s.value.description?s.value.platform?s.value.discount?s.value.code?!0:(g("Please enter a coupon code"),!1):(g("Please enter a discount value"),!1):(g("Please select a platform"),!1):(g("Please enter a coupon description"),!1):(g("Please enter a coupon title"),!1),ne=()=>{s.value={title:"",description:"",platform:"",validFrom:O(),validTo:Q(O(),30),code:"",discount:"",published:!1}},j=n=>{const e=m.value.findIndex(b=>b.id===n.id);e!==-1&&(m.value[e].published=!m.value[e].published,z(`Coupon ${m.value[e].published?"published":"unpublished"} successfully!`))},J=n=>{H(async()=>{const{showDialog:e}=await import("./index-CW4n2V-8.js");return{showDialog:e}},__vite__mapDeps([0,1,2])).then(({showDialog:e})=>{e({title:"Delete Coupon",message:"Are you sure you want to delete this coupon?",showCancelButton:!0}).then(()=>{const b=m.value.findIndex(N=>N.id===n.id);b!==-1&&(m.value.splice(b,1),z("Coupon deleted successfully!"))}).catch(()=>{})})},z=n=>{H(async()=>{const{showToast:e}=await import("./index-CW4n2V-8.js");return{showToast:e}},__vite__mapDeps([0,1,2])).then(({showToast:e})=>{e({message:n,position:"bottom",duration:2e3})})},g=n=>{H(async()=>{const{showToast:e}=await import("./index-CW4n2V-8.js");return{showToast:e}},__vite__mapDeps([0,1,2])).then(({showToast:e})=>{e({message:n,position:"bottom",type:"fail",duration:2e3})})},se=n=>{const e=n[0];s.value.platform=e.value||e,k.value=!1},ae=()=>{k.value=!1},ie=()=>{k.value=!0},ue=()=>{if(w.value.length===0){g("Please select at least one platform");return}I.value=!0,setTimeout(()=>{I.value=!1,P.value=!1,z(`Successfully published to ${w.value.length} platforms with ${v.value} style!`)},2e3)};return(n,e)=>{const b=p("van-nav-bar"),N=p("van-loading"),f=p("van-button"),re=p("van-empty"),U=p("van-icon"),_=p("van-field"),$=p("van-switch"),K=p("van-cell-group"),de=p("van-form"),q=p("van-popup"),pe=p("van-picker"),ve=p("van-checkbox"),ce=p("van-checkbox-group"),R=p("van-cell");return a(),i("div",we,[l(b,{title:"Coupons","left-arrow":"",fixed:"",placeholder:"",onClickLeft:e[0]||(e[0]=o=>n.$router.go(-1))}),W.value?(a(),i("div",Ve,[l(N,{type:"spinner",color:"var(--primary-color)",size:"24px"}),e[21]||(e[21]=t("p",null,"Loading your coupons...",-1))])):(a(),i(x,{key:1},[t("div",xe,[e[23]||(e[23]=t("h2",null,"Marketing Coupons",-1)),l(f,{size:"small",type:"primary",icon:"plus",round:"",onClick:e[1]||(e[1]=o=>y.value=!0)},{default:u(()=>e[22]||(e[22]=[c(" New Coupon ")])),_:1})]),t("div",Pe,[e[28]||(e[28]=t("h3",null,"Active Coupons",-1)),G.value.length===0?(a(),i("div",Te,[l(re,{description:"No active coupons"}),e[24]||(e[24]=t("p",null,"Create and publish coupons to see them here.",-1))])):(a(),i("div",Ie,[(a(!0),i(x,null,S(G.value,o=>(a(),i("div",{key:o.id,class:"coupon-card"},[t("div",Ee,[t("div",Ae,r(o.platform),1),t("h4",null,r(o.title),1),t("p",De,r(o.description),1),t("div",Fe,[t("span",null,"Valid: "+r(F(o.validFrom))+" - "+r(F(o.validTo)),1)]),t("div",ze,[e[25]||(e[25]=c(" Code: ")),t("strong",null,r(o.code),1)])]),t("div",Ue,[l(f,{size:"small",type:"danger",plain:"",onClick:V=>j(o)},{default:u(()=>e[26]||(e[26]=[c(" Unpublish ")])),_:2},1032,["onClick"]),l(f,{size:"small",plain:"",onClick:V=>J(o)},{default:u(()=>e[27]||(e[27]=[c(" Delete ")])),_:2},1032,["onClick"])])]))),128))]))]),Y.value.length>0?(a(),i("div",$e,[e[32]||(e[32]=t("h3",null,"Inactive Coupons",-1)),t("div",Oe,[(a(!0),i(x,null,S(Y.value,o=>(a(),i("div",{key:o.id,class:"coupon-card inactive"},[t("div",Le,[t("div",Se,r(o.platform),1),t("h4",null,r(o.title),1),t("p",Me,r(o.description),1),t("div",Ne,[t("span",null,"Valid: "+r(F(o.validFrom))+" - "+r(F(o.validTo)),1)]),t("div",qe,[e[29]||(e[29]=c(" Code: ")),t("strong",null,r(o.code),1)]),t("div",Re,[o.published?Z(L)(o)?C("",!0):(a(),i("span",We,"Expired")):(a(),i("span",He,"Not Published"))])]),t("div",Be,[!o.published&&Z(L)(o)?(a(),he(f,{key:0,size:"small",type:"primary",plain:"",onClick:V=>j(o)},{default:u(()=>e[30]||(e[30]=[c(" Publish ")])),_:2},1032,["onClick"])):C("",!0),l(f,{size:"small",plain:"",onClick:V=>J(o)},{default:u(()=>e[31]||(e[31]=[c(" Delete ")])),_:2},1032,["onClick"])])]))),128))])])):C("",!0)],64)),l(q,{show:y.value,"onUpdate:show":e[12]||(e[12]=o=>y.value=o),position:"bottom",round:"",style:{height:"85%"}},{default:u(()=>[t("div",Ge,[t("div",Ye,[e[33]||(e[33]=t("h2",null,"Create New Coupon",-1)),l(U,{name:"cross",onClick:e[2]||(e[2]=o=>y.value=!1)})]),l(de,{onSubmit:_e(te,["prevent"])},{default:u(()=>[l(K,{inset:""},{default:u(()=>[l(_,{modelValue:s.value.title,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.title=o),name:"title",label:"Coupon Title",placeholder:"e.g. 20% Off Your First Order",required:""},null,8,["modelValue"]),l(_,{modelValue:s.value.description,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.description=o),rows:"2",autosize:"",type:"textarea",name:"description",label:"Description",placeholder:"Enter coupon description",required:""},null,8,["modelValue"]),l(_,{modelValue:s.value.platform,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.platform=o),name:"platform",label:"Platform",placeholder:"Select Platform",readonly:"",required:"",onClick:ie},null,8,["modelValue"]),l(_,{modelValue:s.value.validFrom,"onUpdate:modelValue":e[6]||(e[6]=o=>s.value.validFrom=o),name:"validFrom",label:"Valid From",type:"date",required:""},null,8,["modelValue"]),l(_,{modelValue:s.value.validTo,"onUpdate:modelValue":e[7]||(e[7]=o=>s.value.validTo=o),name:"validTo",label:"Valid To",type:"date",required:""},null,8,["modelValue"]),l(_,{modelValue:s.value.code,"onUpdate:modelValue":e[8]||(e[8]=o=>s.value.code=o),name:"code",label:"Coupon Code",placeholder:"e.g. WELCOME20",required:""},null,8,["modelValue"]),l(_,{modelValue:s.value.discount,"onUpdate:modelValue":e[9]||(e[9]=o=>s.value.discount=o),name:"discount",label:"Discount",placeholder:"e.g. 20% or Free Item",required:""},null,8,["modelValue"]),l(_,{name:"published",label:"Publish Immediately"},{input:u(()=>[l($,{modelValue:s.value.published,"onUpdate:modelValue":e[10]||(e[10]=o=>s.value.published=o)},null,8,["modelValue"])]),_:1})]),_:1}),t("div",je,[l(f,{round:"",block:"",type:"primary","native-type":"submit",loading:T.value},{default:u(()=>[c(r(T.value?"Creating...":"Create Coupon"),1)]),_:1},8,["loading"]),l(f,{round:"",block:"",plain:"",style:{"margin-top":"10px"},onClick:e[11]||(e[11]=o=>y.value=!1)},{default:u(()=>e[34]||(e[34]=[c(" Cancel ")])),_:1})])]),_:1})])]),_:1},8,["show"]),l(q,{show:k.value,"onUpdate:show":e[13]||(e[13]=o=>k.value=o),position:"bottom",round:"","safe-area-inset-bottom":"",closeable:"",class:"platform-picker-popup"},{default:u(()=>[l(pe,{columns:oe,onConfirm:se,onCancel:ae,"show-toolbar":"",title:"Select Platform"})]),_:1},8,["show"]),l(q,{show:P.value,"onUpdate:show":e[20]||(e[20]=o=>P.value=o),position:"bottom",round:"",closeable:"",class:"publish-options-popup","safe-area-inset-bottom":""},{default:u(()=>[t("div",Je,[e[35]||(e[35]=t("h2",null,"Universal Publishing",-1)),l(U,{name:"cross",onClick:e[14]||(e[14]=o=>P.value=!1)})]),t("div",Ke,[e[43]||(e[43]=t("h3",{class:"section-title"},"AI Enhancement Options",-1)),t("div",Qe,[e[36]||(e[36]=t("h4",null,"Your Content",-1)),t("div",Xe,[l(_,{modelValue:E.value,"onUpdate:modelValue":e[15]||(e[15]=o=>E.value=o),type:"textarea",rows:"4",placeholder:"Enter your coupon details or promotional content here...",class:"content-textarea"},null,8,["modelValue"]),l(f,{type:"primary",size:"small",class:"generate-btn",onClick:B,loading:D.value},{default:u(()=>[c(r(D.value?"Generating...":"Enhance with AI"),1)]),_:1},8,["loading"])])]),t("div",Ze,[e[37]||(e[37]=t("h4",null,"Content Style",-1)),t("div",eo,[(a(),i(x,null,S(ee,(o,V)=>t("div",{key:V,class:ge(["style-option",{active:v.value===o.value}]),onClick:Co=>v.value=o.value},[l(U,{name:o.icon},null,8,["name"]),t("span",null,r(o.label),1)],10,oo)),64))])]),t("div",to,[e[38]||(e[38]=t("h4",null,"Target Platforms",-1)),l(ce,{modelValue:w.value,"onUpdate:modelValue":e[16]||(e[16]=o=>w.value=o)},{default:u(()=>[(a(),i(x,null,S(M,o=>l(ve,{key:o.value,name:o.value,"checked-color":"var(--primary-color)"},{default:u(()=>[c(r(o.text),1)]),_:2},1032,["name"])),64))]),_:1},8,["modelValue"])]),t("div",lo,[e[39]||(e[39]=t("h4",null,"AI Content Enhancement",-1)),l(K,{inset:"",class:"enhancement-options"},{default:u(()=>[l(R,{center:"",title:"Auto-optimize text"},{"right-icon":u(()=>[l($,{modelValue:h.value.optimizeText,"onUpdate:modelValue":e[17]||(e[17]=o=>h.value.optimizeText=o),size:"24","active-color":"var(--primary-color)"},null,8,["modelValue"])]),_:1}),l(R,{center:"",title:"Add relevant hashtags"},{"right-icon":u(()=>[l($,{modelValue:h.value.addHashtags,"onUpdate:modelValue":e[18]||(e[18]=o=>h.value.addHashtags=o),size:"24","active-color":"var(--primary-color)"},null,8,["modelValue"])]),_:1}),l(R,{center:"",title:"Generate matching image"},{"right-icon":u(()=>[l($,{modelValue:h.value.generateImage,"onUpdate:modelValue":e[19]||(e[19]=o=>h.value.generateImage=o),size:"24","active-color":"var(--primary-color)"},null,8,["modelValue"])]),_:1})]),_:1})]),t("div",no,[e[42]||(e[42]=t("h4",null,"AI Enhanced Preview",-1)),t("div",so,[t("div",ao,[t("div",io,[t("div",uo,r(v.value),1),l(U,{name:"like-o",class:"preview-action-icon"})]),t("div",ro,[A.value?(a(),i("p",po,r(A.value),1)):v.value==="professional"?(a(),i("p",vo,"Introducing our latest exclusive offer designed specifically for valued customers like you.")):v.value==="friendly"?(a(),i("p",co,"Hey there! Check out this amazing deal we've put together just for you! ðŸ˜Š")):v.value==="promotional"?(a(),i("p",mo,"LIMITED TIME OFFER! Don't miss this incredible chance to save big!")):v.value==="formal"?(a(),i("p",fo,"We are pleased to announce a special promotion exclusively available to our esteemed clientele.")):C("",!0)]),h.value.addHashtags?(a(),i("div",_o,e[40]||(e[40]=[t("span",null,"#specialoffer",-1),t("span",null,"#limitedtime",-1),t("span",null,"#exclusive",-1)]))):C("",!0),h.value.generateImage?(a(),i("div",ho,e[41]||(e[41]=[t("img",{src:"https://placehold.co/600x400/e8f4fc/0077cc?text=AI+Generated+Image",alt:"Promotional image"},null,-1)]))):C("",!0)])])]),t("div",go,[l(f,{type:"primary",block:"",round:"",size:"large",icon:"share-o",loading:I.value,onClick:ue},{default:u(()=>[c(r(I.value?"Publishing...":"Publish to All Platforms"),1)]),_:1},8,["loading"])])])]),_:1},8,["show"])])}}},Vo=Ce(yo,[["__scopeId","data-v-366bafc7"]]);export{Vo as default};
